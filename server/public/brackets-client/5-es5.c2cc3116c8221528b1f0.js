function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{fOOd:function(t,n,e){"use strict";e.r(n),e.d(n,"HomeModule",(function(){return Q}));var a=e("ofXK"),o=e("M0ag"),c=e("rFyx"),r=e("tyNb"),i=e("ey9i"),s=e("fXoL"),u=e("/t3+"),l=e("bTqV");function b(t,n){if(1&t){var e=s.Ub();s.Tb(0,"button",4),s.bc("click",(function(){return s.oc(e),s.dc().login()})),s.vc(1," Log In "),s.Sb()}}function m(t,n){if(1&t){var e=s.Ub();s.Tb(0,"button",4),s.bc("click",(function(){return s.oc(e),s.dc().logout()})),s.vc(1," Logout "),s.Sb()}}var p,d,f=((p=function(){function t(n,e,a){_classCallCheck(this,t),this.router=n,this.authenticationService=e,this.appStore=a}return _createClass(t,[{key:"login",value:function(){this.router.navigateByUrl("/login")}},{key:"logout",value:function(){this.authenticationService.logout()}}]),t}()).\u0275fac=function(t){return new(t||p)(s.Nb(r.c),s.Nb(i.c),s.Nb(i.b))},p.\u0275cmp=s.Hb({type:p,selectors:[["app-home"]],decls:10,vars:7,consts:[["color","primary"],[3,"routerLink"],[1,"toolbar-remaining-space"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"]],template:function(t,n){1&t&&(s.Tb(0,"mat-toolbar",0),s.Tb(1,"span",1),s.vc(2,"Brackets"),s.Sb(),s.Ob(3,"span",2),s.Tb(4,"span"),s.uc(5,b,2,0,"button",3),s.ec(6,"async"),s.uc(7,m,2,0,"button",3),s.ec(8,"async"),s.Sb(),s.Sb(),s.Ob(9,"router-outlet")),2&t&&(s.Bb(1),s.jc("routerLink","/"),s.Bb(4),s.jc("ngIf",!s.fc(6,3,n.appStore.loggedInUser)),s.Bb(2),s.jc("ngIf",s.fc(8,5,n.appStore.loggedInUser)))},directives:[u.a,r.d,a.l,r.f,l.a],pipes:[a.b],styles:[".toolbar-remaining-space[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto}"]}),p),h=e("Wp6s"),g=((d=function(){function t(){_classCallCheck(this,t),this.selectTournament=new s.n}return _createClass(t,[{key:"onSelect",value:function(t){this.selectTournament.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||d)},d.\u0275cmp=s.Hb({type:d,selectors:[["tournament-card"]],inputs:{tournament:"tournament"},outputs:{selectTournament:"selectTournament"},decls:6,vars:4,consts:[[1,"container",3,"click"]],template:function(t,n){1&t&&(s.Tb(0,"mat-card",0),s.bc("click",(function(){return n.onSelect(n.tournament)})),s.Tb(1,"mat-card-title"),s.vc(2),s.Sb(),s.Tb(3,"mat-card-footer"),s.vc(4),s.ec(5,"date"),s.Sb(),s.Sb()),2&t&&(s.Bb(2),s.xc(" ",n.tournament.name,"\n"),s.Bb(2),s.xc(" ",s.fc(5,2,n.tournament.createdOn)," "))},directives:[h.a,h.e,h.c],pipes:[a.e],styles:[".container[_ngcontent-%COMP%]{border:1px solid #000;border-radius:10px;margin:12px}.tournament-name[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700}"]}),d);function v(t,n){if(1&t){var e=s.Ub();s.Rb(0),s.Tb(1,"tournament-card",4),s.bc("selectTournament",(function(){s.oc(e);var t=n.$implicit;return s.dc().viewTournament(t)})),s.Sb(),s.Qb()}if(2&t){var a=n.$implicit;s.Bb(1),s.jc("tournament",a)}}var C,y,S=((C=function(){function t(n,e,a){_classCallCheck(this,t),this.router=n,this.appStore=e,this.tournamentDataService=a,this.tournamentDataService.getAllTournaments(),this.allTournaments=e.allTournaments}return _createClass(t,[{key:"createTournament",value:function(){this.router.navigateByUrl("/tournament/create")}},{key:"viewTournament",value:function(t){t.linkCode&&this.router.navigateByUrl("/tournament/".concat(t.linkCode,"/view"))}}]),t}()).\u0275fac=function(t){return new(t||C)(s.Nb(r.c),s.Nb(i.b),s.Nb(i.f))},C.\u0275cmp=s.Hb({type:C,selectors:[["app-home"]],decls:6,vars:3,consts:[[1,"top-container"],["mat-raised-button","","isRoundButton","true","color","primary",1,"create-button",3,"click"],[1,"content-container"],[4,"ngFor","ngForOf"],[3,"tournament","selectTournament"]],template:function(t,n){1&t&&(s.Tb(0,"div",0),s.Tb(1,"button",1),s.bc("click",(function(){return n.createTournament()})),s.vc(2," Create Tournament "),s.Sb(),s.Sb(),s.Tb(3,"div",2),s.uc(4,v,2,1,"ng-container",3),s.ec(5,"async"),s.Sb()),2&t&&(s.Bb(4),s.jc("ngForOf",s.fc(5,1,n.allTournaments)))},directives:[l.a,a.k,g],pipes:[a.b],styles:[".top-container[_ngcontent-%COMP%]{width:100%;position:fixed;z-index:2;background-color:#fff;padding:12px;height:64 px;box-shadow:0 2px 5px #888}.create-button[_ngcontent-%COMP%]{width:100%;display:block}.content-container[_ngcontent-%COMP%]{overflow:auto;padding-top:64px}"]}),C),T=e("XNiG"),k=e("1G5W"),w=e("eIep"),x=e("SxV6"),O=e("0IaG"),B=e("kmnG"),_=e("qFsG"),N=e("3Pt+"),j=((y=function t(n,e){_classCallCheck(this,t),this.dialogRef=n,this.data=e,e.contestant={id:null,name:null}}).\u0275fac=function(t){return new(t||y)(s.Nb(O.g),s.Nb(O.a))},y.\u0275cmp=s.Hb({type:y,selectors:[["quick-join-dialog"]],decls:17,vars:3,consts:[["mat-dialog-title",""],["appearance","outline"],["matInput","","type","text","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,n){1&t&&(s.Tb(0,"h2",0),s.vc(1),s.Sb(),s.Tb(2,"mat-dialog-content"),s.Tb(3,"mat-form-field",1),s.Tb(4,"mat-label"),s.vc(5,"Game Tag"),s.Sb(),s.Tb(6,"input",2),s.bc("ngModelChange",(function(t){return n.data.contestant.name=t})),s.Sb(),s.Sb(),s.Ob(7,"br"),s.vc(8," -- or -- "),s.Ob(9,"br"),s.Tb(10,"button",3),s.vc(11,"Sign Up"),s.Sb(),s.Sb(),s.Tb(12,"mat-dialog-actions",4),s.Tb(13,"button",5),s.vc(14,"Cancel"),s.Sb(),s.Tb(15,"button",6),s.vc(16,"Join Tournament"),s.Sb(),s.Sb()),2&t&&(s.Bb(1),s.xc("Join ",n.data.tournamentName,""),s.Bb(5),s.jc("ngModel",n.data.contestant.name),s.Bb(9),s.jc("mat-dialog-close",n.data.contestant))},directives:[O.h,O.e,B.a,B.d,_.a,N.a,N.p,N.j,N.m,l.a,O.c,O.d],encapsulation:2}),y),M=e("wZkO"),F=e("NFeN");function I(t,n){if(1&t&&(s.Rb(0),s.Tb(1,"mat-card",4),s.Tb(2,"mat-card-content"),s.vc(3),s.Sb(),s.Sb(),s.Qb()),2&t){var e=n.$implicit;s.Bb(3),s.xc(" ",e.name||e," ")}}function P(t,n){if(1&t){var e=s.Ub();s.Tb(0,"button",8),s.bc("click",(function(){return s.oc(e),s.dc(2).addContestant()})),s.Tb(1,"mat-icon"),s.vc(2,"send"),s.Sb(),s.Sb()}}function U(t,n){if(1&t&&(s.Tb(0,"mat-form-field",5),s.Tb(1,"mat-label"),s.vc(2,"New Contestant"),s.Sb(),s.Ob(3,"input",6),s.uc(4,P,3,0,"button",7),s.Sb()),2&t){var e=s.dc();s.Bb(4),s.jc("ngIf",e.newContestantForm.value.name)}}var L,G=((L=function(){function t(){_classCallCheck(this,t),this.interactionMode="view",this.isOrderedBySeed=!1,this.contestantCount=0,this.contestants=[],this.newContestantEmitter=new s.n,this.newContestantForm=new N.e({name:new N.c("")}),this.localContestantList=[]}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.buildList()}},{key:"buildList",value:function(){var t=this;this.localContestantList=[],this.contestants.forEach((function(n){t.localContestantList.push(n)}));for(var n=0;n<this.contestantCount-this.contestants.length;n++)this.localContestantList.push({});this.isOrderedBySeed&&this.localContestantList.sort((function(t,n){return t.seed-n.seed}))}},{key:"addContestant",value:function(){this.newContestantForm.value.name.length<1||(this.newContestantEmitter.emit({name:this.newContestantForm.value.name}),this.newContestantForm.controls.name.setValue(""))}}]),t}()).\u0275fac=function(t){return new(t||L)},L.\u0275cmp=s.Hb({type:L,selectors:[["contestant-list"]],inputs:{interactionMode:"interactionMode",isOrderedBySeed:"isOrderedBySeed",contestantCount:"contestantCount",contestants:"contestants"},outputs:{newContestantEmitter:"newContestantEmitter"},features:[s.zb],decls:4,vars:3,consts:[[1,"container"],[4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit"],["appearance","outline",4,"ngIf"],[1,"contestant-container"],["appearance","outline"],["matInput","","formControlName","name"],["type","submit","mat-button","","matSuffix","","mat-icon-button","","aria-label","App",3,"click",4,"ngIf"],["type","submit","mat-button","","matSuffix","","mat-icon-button","","aria-label","App",3,"click"]],template:function(t,n){1&t&&(s.Tb(0,"section",0),s.uc(1,I,4,1,"ng-container",1),s.Rb(2,2),s.bc("ngSubmit",(function(){return n.addContestant()})),s.uc(3,U,5,1,"mat-form-field",3),s.Qb(),s.Sb()),2&t&&(s.Bb(1),s.jc("ngForOf",n.localContestantList),s.Bb(1),s.jc("formGroup",n.newContestantForm),s.Bb(1),s.jc("ngIf",n.contestants.length<n.contestantCount&&"edit"===n.interactionMode))},directives:[a.k,N.k,N.f,a.l,h.a,h.b,B.a,B.d,_.a,N.a,N.j,N.d,l.a,B.e,F.a],styles:[".container[_ngcontent-%COMP%]{margin:12px;padding:12px;border:.5px solid #666;border-radius:10px}.contestant-container[_ngcontent-%COMP%]{margin-bottom:6px;border:.5px solid #666;border-radius:5px}"]}),L);function H(t,n){if(1&t){var e=s.Ub();s.Tb(0,"button",6),s.bc("click",(function(){return s.oc(e),s.dc(2).joinClicked()})),s.vc(1," Join "),s.Sb()}}function D(t,n){if(1&t&&(s.Rb(0),s.Tb(1,"div",1),s.vc(2),s.ec(3,"async"),s.Sb(),s.Tb(4,"mat-tab-group"),s.Tb(5,"mat-tab",2),s.Tb(6,"mat-card"),s.Tb(7,"mat-card-content"),s.vc(8),s.ec(9,"date"),s.ec(10,"async"),s.Sb(),s.Sb(),s.Tb(11,"mat-card"),s.Tb(12,"mat-card-content"),s.vc(13),s.ec(14,"date"),s.ec(15,"async"),s.Sb(),s.Sb(),s.Tb(16,"mat-card"),s.Tb(17,"mat-card-content"),s.vc(18),s.ec(19,"date"),s.ec(20,"async"),s.Sb(),s.Sb(),s.Sb(),s.Tb(21,"mat-tab",3),s.Tb(22,"div"),s.vc(23),s.ec(24,"async"),s.ec(25,"async"),s.ec(26,"async"),s.Sb(),s.uc(27,H,2,0,"button",4),s.ec(28,"async"),s.ec(29,"async"),s.ec(30,"async"),s.Ob(31,"contestant-list",5),s.ec(32,"async"),s.Sb(),s.Sb(),s.Qb()),2&t){var e,a,o=s.dc(),c=null,r=null,i=(null==(r=s.fc(28,31,o.tournament))||null==r.contestants?null:r.contestants.length)+((null==(r=s.fc(29,33,o.tournament))||null==r.temporaryContestants?null:r.temporaryContestants.length)||0)<(null==(r=s.fc(30,35,o.tournament))?null:r.contestantCount),u=null==(a=s.fc(32,37,o.tournament))?null:a.temporaryContestants;s.Bb(2),s.wc(null==(e=s.fc(3,8,o.tournament))?null:e.name),s.Bb(6),s.xc(" Tournament created on ",s.gc(9,10,s.fc(10,13,o.tournament).createdOn,"long")," "),s.Bb(5),s.xc(" Tournament created on ",s.gc(14,15,s.fc(15,18,o.tournament).createdOn,"long")," "),s.Bb(5),s.xc(" Tournament created on ",s.gc(19,20,s.fc(20,23,o.tournament).createdOn,"long")," "),s.Bb(5),s.yc(" ",((null==(c=s.fc(24,25,o.tournament))||null==c.contestants?null:c.contestants.length)||0)+((null==(c=s.fc(25,27,o.tournament))||null==c.temporaryContestants?null:c.temporaryContestants.length)||0)," / ",null==(c=s.fc(26,29,o.tournament))?null:c.contestantCount," Contestants Registered "),s.Bb(4),s.jc("ngIf",i),s.Bb(4),s.jc("contestants",u)}}var E,q,R,z,J=((E=function(){function t(n,e,a,o,c){_classCallCheck(this,t),this.router=n,this.route=e,this.appStore=a,this.tournamentDataService=o,this.dialog=c,this.ngUnsubscribe=new T.a,this.contestantList=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.tournament=this.appStore.currentTournament,this.route.paramMap.pipe(Object(k.a)(this.ngUnsubscribe),Object(w.a)((function(n){return t.tournamentDataService.getTournament(null,n.get("linkCode"))}))).subscribe((function(n){t.appStore.currentTournament.value||t.router.navigateByUrl("/")}))}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}},{key:"joinClicked",value:function(){var t=this;this.dialog.open(j,{data:{tournamentName:this.tournament.value.name}}).afterClosed().pipe(Object(x.a)()).subscribe((function(n){t.tournamentDataService.joinTournament(t.tournament.value.id,n.name,n.id).pipe(Object(x.a)()).subscribe((function(t){console.log("LOOK joinTournament result: ",t)}))}))}}]),t}()).\u0275fac=function(t){return new(t||E)(s.Nb(r.c),s.Nb(r.a),s.Nb(i.b),s.Nb(i.f),s.Nb(O.b))},E.\u0275cmp=s.Hb({type:E,selectors:[["app-tournament"]],decls:2,vars:3,consts:[[4,"ngIf"],["id","tournament-name"],["label","Updates"],["label","Contestants"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["interactionMode","view",3,"contestants"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,n){1&t&&(s.uc(0,D,33,39,"ng-container",0),s.ec(1,"async")),2&t&&s.jc("ngIf",s.fc(1,1,n.tournament))},directives:[a.l,M.b,M.a,h.a,h.b,G,l.a],pipes:[a.b,a.e],styles:["#tournament-name[_ngcontent-%COMP%]{text-align:center;width:100%;font-size:2em;font-weight:700}.bracket-view[_ngcontent-%COMP%]{height:200px!important}mat-card[_ngcontent-%COMP%]{margin:10px}"]}),E),V=e("xHqg"),A=[{path:"",component:f,children:[{path:"",component:S},{path:"tournament/:linkCode/view",component:J},{path:"tournament/create",component:(q=function(){function t(n,e,a,o){_classCallCheck(this,t),this.formBuilder=n,this.router=e,this.appStore=a,this.tournamentDataService=o,this.tournamentForm=this.formBuilder.group({name:[""],contestantCount:[0],contestants:this.formBuilder.array([])}),this.tournament=this.appStore.currentTournament,this.tournament.value?this.loadTournament():this.tournamentForm.patchValue({name:"Mega Battle XTreme",contestantCount:8,contestants:[],temporaryContestants:[]})}return _createClass(t,[{key:"loadTournament",value:function(){this.tournamentForm.patchValue(this.tournament.value)}},{key:"onSubmit",value:function(){this.createTournament()}},{key:"createTournament",value:function(){var t=this;this.tournamentDataService.createTournament(this.tournamentForm.value).toPromise().then((function(n){t.router.navigateByUrl("/tournament/".concat(n.data.addTournament.linkCode,"/view"))}))}},{key:"addContestant",value:function(t){this.contestants.push(this.formBuilder.control(t))}},{key:"countChange",value:function(t){var n=this.contestants.length-t.target.value;if(n>0)for(var e=0;e<n;e++)this.contestants.removeAt(this.contestants.length-1-e)}},{key:"contestants",get:function(){return this.tournamentForm.get("contestants")}},{key:"temporaryContestants",get:function(){return this.tournamentForm.get("temporaryContestants")}}]),t}(),q.\u0275fac=function(t){return new(t||q)(s.Nb(N.b),s.Nb(r.c),s.Nb(i.b),s.Nb(i.f))},q.\u0275cmp=s.Hb({type:q,selectors:[["app-create-tournament"]],decls:21,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"height-100"],["appearance","outline"],["type","text","matInput","","required","","formControlName","name"],["matInput","","type","number","required","","formControlName","contestantCount",3,"change"],[1,"step-buttons"],["mat-button","","matStepperNext","","type","button"],["interactionMode","edit",3,"contestantCount","contestants","newContestantEmitter"],["mat-button","","matStepperPrevious","","type","button"],["type","submit","mat-raised-button","","color","primary"]],template:function(t,n){1&t&&(s.Tb(0,"form",0),s.bc("ngSubmit",(function(){return n.onSubmit()})),s.Tb(1,"mat-horizontal-stepper"),s.Tb(2,"mat-step",1),s.Tb(3,"mat-form-field",2),s.Tb(4,"mat-label"),s.vc(5,"Tournament Name"),s.Sb(),s.Ob(6,"input",3),s.Sb(),s.Tb(7,"mat-form-field",2),s.Tb(8,"mat-label"),s.vc(9,"Number of Contestants"),s.Sb(),s.Tb(10,"input",4),s.bc("change",(function(t){return n.countChange(t)})),s.Sb(),s.Sb(),s.Tb(11,"div",5),s.Tb(12,"button",6),s.vc(13,"Next"),s.Sb(),s.Sb(),s.Sb(),s.Tb(14,"mat-step"),s.Tb(15,"contestant-list",7),s.bc("newContestantEmitter",(function(t){return n.addContestant(t)})),s.Sb(),s.Tb(16,"div",5),s.Tb(17,"button",8),s.vc(18,"Back"),s.Sb(),s.Tb(19,"button",9),s.vc(20,"Create"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&t&&(s.jc("formGroup",n.tournamentForm),s.Bb(15),s.jc("contestantCount",n.tournamentForm.value.contestantCount)("contestants",n.contestants.value))},directives:[N.r,N.k,N.f,V.a,V.b,B.a,B.d,_.a,N.a,N.p,N.j,N.d,N.n,l.a,V.d,G,V.e],styles:["button[matStepperPrevious][_ngcontent-%COMP%]{position:fixed;bottom:12px;left:12px}button[matStepperNext][_ngcontent-%COMP%], button[type=submit][_ngcontent-%COMP%]{position:fixed;bottom:12px;right:12px}"]}),q)}]}],K=((z=function t(){_classCallCheck(this,t)}).\u0275mod=s.Lb({type:z}),z.\u0275inj=s.Kb({factory:function(t){return new(t||z)},imports:[[r.e.forChild(A)],r.e]}),z),Q=((R=function t(){_classCallCheck(this,t)}).\u0275mod=s.Lb({type:R,bootstrap:[j]}),R.\u0275inj=s.Kb({factory:function(t){return new(t||R)},imports:[[a.c,K,o.a,c.a]]}),R)}}]);