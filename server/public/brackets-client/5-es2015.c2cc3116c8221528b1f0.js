(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{fOOd:function(t,n,e){"use strict";e.r(n),e.d(n,"HomeModule",(function(){return D}));var o=e("ofXK"),a=e("M0ag"),c=e("rFyx"),r=e("tyNb"),s=e("ey9i"),i=e("fXoL"),u=e("/t3+"),b=e("bTqV");function m(t,n){if(1&t){const t=i.Ub();i.Tb(0,"button",4),i.bc("click",(function(){return i.oc(t),i.dc().login()})),i.vc(1," Log In "),i.Sb()}}function l(t,n){if(1&t){const t=i.Ub();i.Tb(0,"button",4),i.bc("click",(function(){return i.oc(t),i.dc().logout()})),i.vc(1," Logout "),i.Sb()}}let p=(()=>{class t{constructor(t,n,e){this.router=t,this.authenticationService=n,this.appStore=e}login(){this.router.navigateByUrl("/login")}logout(){this.authenticationService.logout()}}return t.\u0275fac=function(n){return new(n||t)(i.Nb(r.c),i.Nb(s.c),i.Nb(s.b))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-home"]],decls:10,vars:7,consts:[["color","primary"],[3,"routerLink"],[1,"toolbar-remaining-space"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"]],template:function(t,n){1&t&&(i.Tb(0,"mat-toolbar",0),i.Tb(1,"span",1),i.vc(2,"Brackets"),i.Sb(),i.Ob(3,"span",2),i.Tb(4,"span"),i.uc(5,m,2,0,"button",3),i.ec(6,"async"),i.uc(7,l,2,0,"button",3),i.ec(8,"async"),i.Sb(),i.Sb(),i.Ob(9,"router-outlet")),2&t&&(i.Bb(1),i.jc("routerLink","/"),i.Bb(4),i.jc("ngIf",!i.fc(6,3,n.appStore.loggedInUser)),i.Bb(2),i.jc("ngIf",i.fc(8,5,n.appStore.loggedInUser)))},directives:[u.a,r.d,o.l,r.f,b.a],pipes:[o.b],styles:[".toolbar-remaining-space[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto}"]}),t})();var d=e("Wp6s");let f=(()=>{class t{constructor(){this.selectTournament=new i.n}onSelect(t){this.selectTournament.emit(t)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["tournament-card"]],inputs:{tournament:"tournament"},outputs:{selectTournament:"selectTournament"},decls:6,vars:4,consts:[[1,"container",3,"click"]],template:function(t,n){1&t&&(i.Tb(0,"mat-card",0),i.bc("click",(function(){return n.onSelect(n.tournament)})),i.Tb(1,"mat-card-title"),i.vc(2),i.Sb(),i.Tb(3,"mat-card-footer"),i.vc(4),i.ec(5,"date"),i.Sb(),i.Sb()),2&t&&(i.Bb(2),i.xc(" ",n.tournament.name,"\n"),i.Bb(2),i.xc(" ",i.fc(5,2,n.tournament.createdOn)," "))},directives:[d.a,d.e,d.c],pipes:[o.e],styles:[".container[_ngcontent-%COMP%]{border:1px solid #000;border-radius:10px;margin:12px}.tournament-name[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700}"]}),t})();function g(t,n){if(1&t){const t=i.Ub();i.Rb(0),i.Tb(1,"tournament-card",4),i.bc("selectTournament",(function(){i.oc(t);const e=n.$implicit;return i.dc().viewTournament(e)})),i.Sb(),i.Qb()}if(2&t){const t=n.$implicit;i.Bb(1),i.jc("tournament",t)}}let h=(()=>{class t{constructor(t,n,e){this.router=t,this.appStore=n,this.tournamentDataService=e,this.tournamentDataService.getAllTournaments(),this.allTournaments=n.allTournaments}createTournament(){this.router.navigateByUrl("/tournament/create")}viewTournament(t){t.linkCode&&this.router.navigateByUrl(`/tournament/${t.linkCode}/view`)}}return t.\u0275fac=function(n){return new(n||t)(i.Nb(r.c),i.Nb(s.b),i.Nb(s.f))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-home"]],decls:6,vars:3,consts:[[1,"top-container"],["mat-raised-button","","isRoundButton","true","color","primary",1,"create-button",3,"click"],[1,"content-container"],[4,"ngFor","ngForOf"],[3,"tournament","selectTournament"]],template:function(t,n){1&t&&(i.Tb(0,"div",0),i.Tb(1,"button",1),i.bc("click",(function(){return n.createTournament()})),i.vc(2," Create Tournament "),i.Sb(),i.Sb(),i.Tb(3,"div",2),i.uc(4,g,2,1,"ng-container",3),i.ec(5,"async"),i.Sb()),2&t&&(i.Bb(4),i.jc("ngForOf",i.fc(5,1,n.allTournaments)))},directives:[b.a,o.k,f],pipes:[o.b],styles:[".top-container[_ngcontent-%COMP%]{width:100%;position:fixed;z-index:2;background-color:#fff;padding:12px;height:64 px;box-shadow:0 2px 5px #888}.create-button[_ngcontent-%COMP%]{width:100%;display:block}.content-container[_ngcontent-%COMP%]{overflow:auto;padding-top:64px}"]}),t})();var S=e("XNiG"),v=e("1G5W"),T=e("eIep"),C=e("SxV6"),y=e("0IaG"),w=e("kmnG"),x=e("qFsG"),O=e("3Pt+");let B=(()=>{class t{constructor(t,n){this.dialogRef=t,this.data=n,n.contestant={id:null,name:null}}}return t.\u0275fac=function(n){return new(n||t)(i.Nb(y.g),i.Nb(y.a))},t.\u0275cmp=i.Hb({type:t,selectors:[["quick-join-dialog"]],decls:17,vars:3,consts:[["mat-dialog-title",""],["appearance","outline"],["matInput","","type","text","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,n){1&t&&(i.Tb(0,"h2",0),i.vc(1),i.Sb(),i.Tb(2,"mat-dialog-content"),i.Tb(3,"mat-form-field",1),i.Tb(4,"mat-label"),i.vc(5,"Game Tag"),i.Sb(),i.Tb(6,"input",2),i.bc("ngModelChange",(function(t){return n.data.contestant.name=t})),i.Sb(),i.Sb(),i.Ob(7,"br"),i.vc(8," -- or -- "),i.Ob(9,"br"),i.Tb(10,"button",3),i.vc(11,"Sign Up"),i.Sb(),i.Sb(),i.Tb(12,"mat-dialog-actions",4),i.Tb(13,"button",5),i.vc(14,"Cancel"),i.Sb(),i.Tb(15,"button",6),i.vc(16,"Join Tournament"),i.Sb(),i.Sb()),2&t&&(i.Bb(1),i.xc("Join ",n.data.tournamentName,""),i.Bb(5),i.jc("ngModel",n.data.contestant.name),i.Bb(9),i.jc("mat-dialog-close",n.data.contestant))},directives:[y.h,y.e,w.a,w.d,x.a,O.a,O.p,O.j,O.m,b.a,y.c,y.d],encapsulation:2}),t})();var k=e("wZkO"),N=e("NFeN");function j(t,n){if(1&t&&(i.Rb(0),i.Tb(1,"mat-card",4),i.Tb(2,"mat-card-content"),i.vc(3),i.Sb(),i.Sb(),i.Qb()),2&t){const t=n.$implicit;i.Bb(3),i.xc(" ",t.name||t," ")}}function M(t,n){if(1&t){const t=i.Ub();i.Tb(0,"button",8),i.bc("click",(function(){return i.oc(t),i.dc(2).addContestant()})),i.Tb(1,"mat-icon"),i.vc(2,"send"),i.Sb(),i.Sb()}}function F(t,n){if(1&t&&(i.Tb(0,"mat-form-field",5),i.Tb(1,"mat-label"),i.vc(2,"New Contestant"),i.Sb(),i.Ob(3,"input",6),i.uc(4,M,3,0,"button",7),i.Sb()),2&t){const t=i.dc();i.Bb(4),i.jc("ngIf",t.newContestantForm.value.name)}}let I=(()=>{class t{constructor(){this.interactionMode="view",this.isOrderedBySeed=!1,this.contestantCount=0,this.contestants=[],this.newContestantEmitter=new i.n,this.newContestantForm=new O.e({name:new O.c("")}),this.localContestantList=[]}ngOnChanges(t){this.buildList()}buildList(){this.localContestantList=[],this.contestants.forEach(t=>{this.localContestantList.push(t)});for(let t=0;t<this.contestantCount-this.contestants.length;t++)this.localContestantList.push({});this.isOrderedBySeed&&this.localContestantList.sort((t,n)=>t.seed-n.seed)}addContestant(){this.newContestantForm.value.name.length<1||(this.newContestantEmitter.emit({name:this.newContestantForm.value.name}),this.newContestantForm.controls.name.setValue(""))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["contestant-list"]],inputs:{interactionMode:"interactionMode",isOrderedBySeed:"isOrderedBySeed",contestantCount:"contestantCount",contestants:"contestants"},outputs:{newContestantEmitter:"newContestantEmitter"},features:[i.zb],decls:4,vars:3,consts:[[1,"container"],[4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit"],["appearance","outline",4,"ngIf"],[1,"contestant-container"],["appearance","outline"],["matInput","","formControlName","name"],["type","submit","mat-button","","matSuffix","","mat-icon-button","","aria-label","App",3,"click",4,"ngIf"],["type","submit","mat-button","","matSuffix","","mat-icon-button","","aria-label","App",3,"click"]],template:function(t,n){1&t&&(i.Tb(0,"section",0),i.uc(1,j,4,1,"ng-container",1),i.Rb(2,2),i.bc("ngSubmit",(function(){return n.addContestant()})),i.uc(3,F,5,1,"mat-form-field",3),i.Qb(),i.Sb()),2&t&&(i.Bb(1),i.jc("ngForOf",n.localContestantList),i.Bb(1),i.jc("formGroup",n.newContestantForm),i.Bb(1),i.jc("ngIf",n.contestants.length<n.contestantCount&&"edit"===n.interactionMode))},directives:[o.k,O.k,O.f,o.l,d.a,d.b,w.a,w.d,x.a,O.a,O.j,O.d,b.a,w.e,N.a],styles:[".container[_ngcontent-%COMP%]{margin:12px;padding:12px;border:.5px solid #666;border-radius:10px}.contestant-container[_ngcontent-%COMP%]{margin-bottom:6px;border:.5px solid #666;border-radius:5px}"]}),t})();function P(t,n){if(1&t){const t=i.Ub();i.Tb(0,"button",6),i.bc("click",(function(){return i.oc(t),i.dc(2).joinClicked()})),i.vc(1," Join "),i.Sb()}}function U(t,n){if(1&t&&(i.Rb(0),i.Tb(1,"div",1),i.vc(2),i.ec(3,"async"),i.Sb(),i.Tb(4,"mat-tab-group"),i.Tb(5,"mat-tab",2),i.Tb(6,"mat-card"),i.Tb(7,"mat-card-content"),i.vc(8),i.ec(9,"date"),i.ec(10,"async"),i.Sb(),i.Sb(),i.Tb(11,"mat-card"),i.Tb(12,"mat-card-content"),i.vc(13),i.ec(14,"date"),i.ec(15,"async"),i.Sb(),i.Sb(),i.Tb(16,"mat-card"),i.Tb(17,"mat-card-content"),i.vc(18),i.ec(19,"date"),i.ec(20,"async"),i.Sb(),i.Sb(),i.Sb(),i.Tb(21,"mat-tab",3),i.Tb(22,"div"),i.vc(23),i.ec(24,"async"),i.ec(25,"async"),i.ec(26,"async"),i.Sb(),i.uc(27,P,2,0,"button",4),i.ec(28,"async"),i.ec(29,"async"),i.ec(30,"async"),i.Ob(31,"contestant-list",5),i.ec(32,"async"),i.Sb(),i.Sb(),i.Qb()),2&t){const t=i.dc();var e,o=null,a=null;const n=(null==(a=i.fc(28,31,t.tournament))||null==a.contestants?null:a.contestants.length)+((null==(a=i.fc(29,33,t.tournament))||null==a.temporaryContestants?null:a.temporaryContestants.length)||0)<(null==(a=i.fc(30,35,t.tournament))?null:a.contestantCount);var c;const r=null==(c=i.fc(32,37,t.tournament))?null:c.temporaryContestants;i.Bb(2),i.wc(null==(e=i.fc(3,8,t.tournament))?null:e.name),i.Bb(6),i.xc(" Tournament created on ",i.gc(9,10,i.fc(10,13,t.tournament).createdOn,"long")," "),i.Bb(5),i.xc(" Tournament created on ",i.gc(14,15,i.fc(15,18,t.tournament).createdOn,"long")," "),i.Bb(5),i.xc(" Tournament created on ",i.gc(19,20,i.fc(20,23,t.tournament).createdOn,"long")," "),i.Bb(5),i.yc(" ",((null==(o=i.fc(24,25,t.tournament))||null==o.contestants?null:o.contestants.length)||0)+((null==(o=i.fc(25,27,t.tournament))||null==o.temporaryContestants?null:o.temporaryContestants.length)||0)," / ",null==(o=i.fc(26,29,t.tournament))?null:o.contestantCount," Contestants Registered "),i.Bb(4),i.jc("ngIf",n),i.Bb(4),i.jc("contestants",r)}}let L=(()=>{class t{constructor(t,n,e,o,a){this.router=t,this.route=n,this.appStore=e,this.tournamentDataService=o,this.dialog=a,this.ngUnsubscribe=new S.a,this.contestantList=[]}ngOnInit(){this.tournament=this.appStore.currentTournament,this.route.paramMap.pipe(Object(v.a)(this.ngUnsubscribe),Object(T.a)(t=>this.tournamentDataService.getTournament(null,t.get("linkCode")))).subscribe(t=>{this.appStore.currentTournament.value||this.router.navigateByUrl("/")})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}joinClicked(){this.dialog.open(B,{data:{tournamentName:this.tournament.value.name}}).afterClosed().pipe(Object(C.a)()).subscribe(t=>{this.tournamentDataService.joinTournament(this.tournament.value.id,t.name,t.id).pipe(Object(C.a)()).subscribe(t=>{console.log("LOOK joinTournament result: ",t)})})}}return t.\u0275fac=function(n){return new(n||t)(i.Nb(r.c),i.Nb(r.a),i.Nb(s.b),i.Nb(s.f),i.Nb(y.b))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-tournament"]],decls:2,vars:3,consts:[[4,"ngIf"],["id","tournament-name"],["label","Updates"],["label","Contestants"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["interactionMode","view",3,"contestants"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,n){1&t&&(i.uc(0,U,33,39,"ng-container",0),i.ec(1,"async")),2&t&&i.jc("ngIf",i.fc(1,1,n.tournament))},directives:[o.l,k.b,k.a,d.a,d.b,I,b.a],pipes:[o.b,o.e],styles:["#tournament-name[_ngcontent-%COMP%]{text-align:center;width:100%;font-size:2em;font-weight:700}.bracket-view[_ngcontent-%COMP%]{height:200px!important}mat-card[_ngcontent-%COMP%]{margin:10px}"]}),t})();var _=e("xHqg");const G=[{path:"",component:p,children:[{path:"",component:h},{path:"tournament/:linkCode/view",component:L},{path:"tournament/create",component:(()=>{class t{constructor(t,n,e,o){this.formBuilder=t,this.router=n,this.appStore=e,this.tournamentDataService=o,this.tournamentForm=this.formBuilder.group({name:[""],contestantCount:[0],contestants:this.formBuilder.array([])}),this.tournament=this.appStore.currentTournament,this.tournament.value?this.loadTournament():this.tournamentForm.patchValue({name:"Mega Battle XTreme",contestantCount:8,contestants:[],temporaryContestants:[]})}get contestants(){return this.tournamentForm.get("contestants")}get temporaryContestants(){return this.tournamentForm.get("temporaryContestants")}loadTournament(){this.tournamentForm.patchValue(this.tournament.value)}onSubmit(){this.createTournament()}createTournament(){this.tournamentDataService.createTournament(this.tournamentForm.value).toPromise().then(t=>{this.router.navigateByUrl(`/tournament/${t.data.addTournament.linkCode}/view`)})}addContestant(t){this.contestants.push(this.formBuilder.control(t))}countChange(t){const n=this.contestants.length-t.target.value;if(n>0)for(let e=0;e<n;e++)this.contestants.removeAt(this.contestants.length-1-e)}}return t.\u0275fac=function(n){return new(n||t)(i.Nb(O.b),i.Nb(r.c),i.Nb(s.b),i.Nb(s.f))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-create-tournament"]],decls:21,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"height-100"],["appearance","outline"],["type","text","matInput","","required","","formControlName","name"],["matInput","","type","number","required","","formControlName","contestantCount",3,"change"],[1,"step-buttons"],["mat-button","","matStepperNext","","type","button"],["interactionMode","edit",3,"contestantCount","contestants","newContestantEmitter"],["mat-button","","matStepperPrevious","","type","button"],["type","submit","mat-raised-button","","color","primary"]],template:function(t,n){1&t&&(i.Tb(0,"form",0),i.bc("ngSubmit",(function(){return n.onSubmit()})),i.Tb(1,"mat-horizontal-stepper"),i.Tb(2,"mat-step",1),i.Tb(3,"mat-form-field",2),i.Tb(4,"mat-label"),i.vc(5,"Tournament Name"),i.Sb(),i.Ob(6,"input",3),i.Sb(),i.Tb(7,"mat-form-field",2),i.Tb(8,"mat-label"),i.vc(9,"Number of Contestants"),i.Sb(),i.Tb(10,"input",4),i.bc("change",(function(t){return n.countChange(t)})),i.Sb(),i.Sb(),i.Tb(11,"div",5),i.Tb(12,"button",6),i.vc(13,"Next"),i.Sb(),i.Sb(),i.Sb(),i.Tb(14,"mat-step"),i.Tb(15,"contestant-list",7),i.bc("newContestantEmitter",(function(t){return n.addContestant(t)})),i.Sb(),i.Tb(16,"div",5),i.Tb(17,"button",8),i.vc(18,"Back"),i.Sb(),i.Tb(19,"button",9),i.vc(20,"Create"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t&&(i.jc("formGroup",n.tournamentForm),i.Bb(15),i.jc("contestantCount",n.tournamentForm.value.contestantCount)("contestants",n.contestants.value))},directives:[O.r,O.k,O.f,_.a,_.b,w.a,w.d,x.a,O.a,O.p,O.j,O.d,O.n,b.a,_.d,I,_.e],styles:["button[matStepperPrevious][_ngcontent-%COMP%]{position:fixed;bottom:12px;left:12px}button[matStepperNext][_ngcontent-%COMP%], button[type=submit][_ngcontent-%COMP%]{position:fixed;bottom:12px;right:12px}"]}),t})()}]}];let H=(()=>{class t{}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(n){return new(n||t)},imports:[[r.e.forChild(G)],r.e]}),t})(),D=(()=>{class t{}return t.\u0275mod=i.Lb({type:t,bootstrap:[B]}),t.\u0275inj=i.Kb({factory:function(n){return new(n||t)},imports:[[o.c,H,a.a,c.a]]}),t})()}}]);