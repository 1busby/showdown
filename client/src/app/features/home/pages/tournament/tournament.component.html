<ng-container *ngIf="this.tournament">
  <div style="margin-left: 10px">
    <button
      mat-raised-button
      color="primary"
      (click)="editTournament()"
      *ngIf="!isCheckingEditAccess && !tournament.hasStarted"
    >
      Edit
    </button>
    <mat-spinner
      color="accent"
      diameter="30"
      *ngIf="isCheckingEditAccess"
    ></mat-spinner>
    <button
      mat-raised-button
      color="primary"
      (click)="editTournament(true)"
      *ngIf="!isCheckingEditAccess && !tournament.hasStarted"
    >
      Run
    </button>
  </div>

  <mat-button-toggle-group class="action-buttons" #group="matButtonToggleGroup">
    <mat-button-toggle
      value="left"
      (click)="showView('bracket')"
      aria-label="Bracket View"
    >
      <mat-icon>schema</mat-icon>
    </mat-button-toggle>
    <mat-button-toggle
      value="center"
      (click)="showView('contestants')"
      aria-label="Contestants"
    >
      <mat-icon>people</mat-icon>
    </mat-button-toggle>
    <mat-button-toggle
      value="right"
      (click)="showView('matches')"
      aria-label="Matches"
    >
      <mat-icon>format_list_numbered</mat-icon>
    </mat-button-toggle>
    <mat-button-toggle
      value="justify"
      (click)="showView('updates')"
      aria-label="Updates"
    >
      <mat-icon>subscriptions</mat-icon>
    </mat-button-toggle>
  </mat-button-toggle-group>

  <div id="tournament-name">
    <p>
      {{ this.tournament?.name }}
    </p>
  </div>
  <div label="Bracket" *ngIf="viewBeingShown === 'bracket'">
    <bracket-view
      [tournament]="this.tournament"
      (showMatchDetailsEmitter)="showMatchDetails($event)"
    ></bracket-view>
  </div>

  <div label="Contestants" *ngIf="viewBeingShown === 'contestants'">
    <div>
      {{ this.tournament?.contestants?.length || 0 }} /
      {{ this.tournament?.contestantCount || 0 }} Contestants Registered
    </div>
    <button
      *ngIf="
        this.tournament?.contestants?.length < this.tournament?.contestantCount
      "
      mat-raised-button
      color="primary"
      (click)="joinClicked()"
    >
      Join
    </button>
    <contestant-list
      interactionMode="view"
      [contestants]="this.tournament?.contestants || []"
    ></contestant-list>
  </div>

  <div label="Matches" *ngIf="viewBeingShown === 'matches'">
    <!-- <match-list [matches]="this.appStore.getWinnersMatchContainers() | async" (showMatchDetailsEmitter)="showMatchDetails($event)"></match-list> -->
  </div>

  <div label="Updates" *ngIf="viewBeingShown === 'updates'">
    <mat-card>
      <mat-card-content>
        Tournament created on
        {{ this.tournament.createdOn | date: 'long' }}
      </mat-card-content>
    </mat-card>
    <mat-card>
      <mat-card-content>
        Tournament created on
        {{ this.tournament.createdOn | date: 'long' }}
      </mat-card-content>
    </mat-card>
    <mat-card>
      <mat-card-content>
        Tournament created on
        {{ this.tournament.createdOn | date: 'long' }}
      </mat-card-content>
    </mat-card>
  </div>
</ng-container>
