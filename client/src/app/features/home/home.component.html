<button class="home-button" [routerLink]="'/'" mat-fab color="primary">
  <mat-icon>home</mat-icon>
</button>
<span class="top-right-controls">
  <!-- <button *ngIf="user?._id" class="logout-button" mat-button (click)="logout()">
    Logout
  </button> -->

  <ng-container *ngIf="!isLoadingProfile">
    <button
      *ngIf="!user?._id"
      class="login-button"
      color="primary"
      isRoundButton="true"
      mat-raised-button
      (click)="login()"
    >
      Log In
      <mat-icon>login</mat-icon>
    </button>
  
    {{ user?.username }}
    <button
      *ngIf="user?._id"
      mat-icon-button
      [matMenuTriggerFor]="menu"
      aria-label="Example icon-button with a menu"
    >
      <mat-icon>account_circle</mat-icon>
    </button>
    <mat-menu #menu="matMenu" color="primary">
      <button mat-menu-item>
        <mat-icon>account_circle</mat-icon>
        <span>Profile</span>
      </button>
      <button mat-menu-item (click)="logout()">
        <mat-icon>logout</mat-icon>
        <span>Logout</span>
      </button>
    </mat-menu>
  </ng-container>

  <mat-spinner *ngIf="isLoadingProfile" diameter="40"></mat-spinner>
</span>

<router-outlet></router-outlet>
